/* ======================== 全局变量 ======================== */
:root {
    --gold: #FFD700;
    --gold-dark: #B8860B;
    --gold-glow: rgba(0, 179, 255, 0.6);
    --bg-dark: #050505;
    --glass: rgba(20, 20, 20, 0.85);
}

/* ======================== 基础重置 ======================== */
* { 
    box-sizing: border-box; 
    -webkit-tap-highlight-color: transparent; 
}

body, html { 
    margin: 0; 
    padding: 0; 
    width: 100%; 
    height: 100%; 
    background-color: var(--bg-dark); 
    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif; 
    overflow: hidden; 
    color: rgba(46, 55, 224, 0.608); /* 保持了你提供的原有颜色 */
    user-select: none; 
}

#main-canvas { 
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
    z-index: 1; outline: none;
}

/* ======================== 视图与面板 ======================== */
.view-section { 
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
    display: none; flex-direction: column; align-items: center; justify-content: center; 
    z-index: 10; opacity: 0; transition: opacity 0.6s ease; pointer-events: none; 
}
.view-section.active { display: flex; opacity: 1; }

/* 登录页样式 */
.login-panel { 
    width: 85%; max-width: 320px; padding: 40px 20px; 
    background: var(--glass); border: 1px solid var(--gold); border-radius: 15px; 
    text-align: center; backdrop-filter: blur(10px); position: relative; 
    box-shadow: 0 0 40px rgba(0,0,0,0.9); pointer-events: auto; 
}

.btn-gold { 
    background: linear-gradient(135deg, var(--gold-dark), var(--gold)); 
    border: none; color: #000; padding: 12px 30px; 
    font-size: 16px; font-weight: bold; border-radius: 25px; 
    cursor: pointer; box-shadow: 0 0 15px var(--gold-glow); 
    margin-top: 20px; width: 80%; 
}

/* 启动按钮 */
#start-btn { 
    position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); 
    color: #000; background: var(--gold); border: 1px solid gold; 
    padding: 15px 40px; border-radius: 30px; cursor: pointer; z-index: 999; 
    font-weight: bold; box-shadow: 0 0 20px var(--gold-glow); pointer-events: auto; 
}

/* ======================== AR 界面叠加层 ======================== */
.ar-ui-overlay { 
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
    pointer-events: none; 
    display: flex; flex-direction: column; 
    justify-content: flex-end; align-items: flex-end; /* 右下角对齐 */
    padding: 20px; z-index: 20; 
}

.ar-guide-box { 
    text-align: right; margin-bottom: 40px; 
    background: rgba(0,0,0,0.6); padding: 15px 20px; 
    border-radius: 12px; border: 1px solid rgba(255,215,0,0.3); 
    animation: slideIn 0.5s ease-out;
}

@keyframes slideIn { 
    from { transform: translateY(20px); opacity: 0; } 
    to { transform: translateY(0); opacity: 1; } 
}

/* ======================== 功德指南 (Q版木鱼) 样式 ======================== */
/* 这一部分是您之前HTML里用到了ID和Class，但CSS里缺失的，这里补全以保证效果 */
#gesture-guide {
    background: rgba(255, 240, 230, 0.9); /* Q版浅色背景 */
    padding: 18px 25px;
    border-radius: 20px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
    border: 2px solid #ffffff;
    color: #552211; 
    pointer-events: auto;
}

#gesture-guide h3 {
    margin: 0 0 12px 0;
    color: #ff6b6b; /* 标题颜色 */
    font-size: 18px;
}

.guide-item {
    display: flex; align-items: center; gap: 12px;
    margin-bottom: 8px; font-size: 15px; font-weight: bold;
}

.tag {
    display: inline-flex; justify-content: center; align-items: center;
    width: 32px; height: 32px; border-radius: 50%; font-size: 18px;
}

.tag.blue { background: #e0f7fa; border: 2px solid #4dd0e1; }
.tag.gold { background: #fff8e1; border: 2px solid #ffd54f; }

/* ======================== 摄像头挂件 ======================== */
.camera-widget {
    position: absolute; top: 15px; right: 15px; z-index: 30;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    pointer-events: auto;
    width: 120px; height: 160px; /* 默认竖屏比例 */
}

/* 横屏适配 */
@media (orientation: landscape) {
    .camera-widget {
        width: 160px; height: 120px;
    }
}

#ar-camera-feed {
    width: 100%; height: 100%; object-fit: cover; border-radius: 12px;
    border: 2px solid var(--gold); background: #000;
    transform: scaleX(-1); box-shadow: 0 0 20px rgba(0,0,0,0.8);
}

.camera-toggle-btn {
    position: absolute; bottom: -12px; left: 50%; transform: translateX(-50%);
    width: 24px; height: 24px; background: var(--gold); border: 2px solid #000;
    border-radius: 50%; color: #000; font-size: 12px; line-height: 20px;
    text-align: center; cursor: pointer; box-shadow: 0 0 10px var(--gold-glow);
    user-select: none;
}

/* 折叠状态 */
.camera-widget.collapsed { 
    height: 30px !important; width: 80px !important; 
    opacity: 0.8; top: 10px; right: 10px; 
}
.camera-widget.collapsed #ar-camera-feed { opacity: 0; }
.camera-widget.collapsed .camera-toggle-btn { bottom: 2px; }